{% extends "website/base.html" %}
{% load static %}

{% block head_extra %}
  <link rel="stylesheet" href="{% static 'css/policy.css' %}?v={% now 'U' %}">
  <script>
    window.__STRIPE_LINKS = window.__STRIPE_LINKS || {};
    window.__STRIPE_LINKS.dne = "{{ stripe_dne_link }}";
  </script>
  <script src="{% static 'js/checkout_redirect.js' %}?v={% now 'U' %}" defer></script>
{% endblock %}

{% block content %}
<section class="policy-hero policy-hero--left">
  <div class="container">
    <h1>Stop My Spam</h1>
    <p class="lead">
    Tired of endless marketing emails? We handle the opt-out process for you.
    <br><br>
    When you sign up, we contact over 500+ verified data brokers on your behalf under the CCPA and other privacy laws. We submit formal requests for them to delete your information, remove you from marketing lists, and stop selling or sharing your data.
    <br><br>
    You simply enter your details â€” we do the rest.
    We track every request, monitor responses, and send you weekly updates on the status of your removal.
    <br><br>
    <small><em>
    SwanTech acts as your authorized agent to submit privacy and opt-out requests under applicable laws. We are not affiliated with any government agency, and we cannot guarantee compliance by third-party organizations.
    </em></small>

    </p>
  </div>
</section>

<section class="policy-body">
  <div class="policy">
    {% if messages %}
      <div class="messages" style="margin-bottom:12px">
        {% for message in messages %}
          <div class="alert" style="padding:10px 12px;border:1px solid #d7dee8;border-radius:12px;background:#fff">{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}
    <div class="card">
      <form action="{% url 'website:submit-do-not-email' %}" method="post" novalidate>
        {% csrf_token %}
        <div class="grid-2">
          <div class="field">
            <label for="first_name">First Name</label>
            <input id="first_name" name="first_name" type="text" placeholder="Jane" required>
          </div>
          <div class="field">
            <label for="last_name">Last Name</label>
            <input id="last_name" name="last_name" type="text" placeholder="Doe" required>
          </div>
        </div>

        <div class="grid-2">
          <div class="field">
            <label for="primary_email">Primary Email</label>
            <input id="primary_email" name="primary_email" type="email" placeholder="you@example.com" required>
          </div>
          <div class="field">
            <label for="secondary_email">Secondary Email (optional)</label>
            <input id="secondary_email" name="secondary_email" type="email" placeholder="you+alt@example.com">
          </div>
        </div>

        <div class="grid-2">
          <div class="field">
            <label for="primary_phone">Primary Phone</label>
            <input id="primary_phone" name="primary_phone" type="tel" placeholder="5551234567" pattern="\d{10}" inputmode="numeric" minlength="10" maxlength="10" required>
          </div>
          <div class="field">
            <label for="secondary_phone">Secondary Phone (optional)</label>
            <input id="secondary_phone" name="secondary_phone" type="tel" placeholder="5559876543" pattern="\d{10}" inputmode="numeric" minlength="10" maxlength="10">
          </div>
        </div>

        <div class="field">
          <label for="address1">Home Address</label>
          <input id="address1" name="address1" type="text" placeholder="123 Main St" required>
        </div>
        <div class="field">
          <label for="address2">Address Line 2 (optional)</label>
          <input id="address2" name="address2" type="text" placeholder="Apt, suite, unit, etc.">
        </div>
        <div class="grid-3">
          <div class="field">
            <label for="city">City</label>
            <input id="city" name="city" type="text" placeholder="Springfield" required>
          </div>
          <div class="field">
            <label for="region">State/Province/Region</label>
            <input id="region" name="region" type="text" placeholder="CA" required>
          </div>
          <div class="field">
            <label for="postal">Postal Code</label>
            <input id="postal" name="postal" type="text" placeholder="90210" required>
          </div>
        </div>
        <div class="field">
          <label for="country">Country</label>
          <select id="country" name="country" required>
            <option value="US" selected>United States</option>
            <option value="CA">Canada</option>
            <option value="GB">United Kingdom</option>
            <option value="AU">Australia</option>
            <option value="DE">Germany</option>
            <option value="FR">France</option>
            <option value="IN">India</option>
          </select>
        </div>

        <div class="field">
          <label>
            <input id="dne_weekly_opt_in" name="weekly_status_opt_in" type="checkbox" checked>
            Email me weekly updates about broker responses (optional).
          </label>
        </div>

        <div class="field">
          <label>
            <input id="dne_ack" name="acknowledge" type="checkbox" required>
            I agree to the <a href="{% url 'website:terms' %}" target="_blank" rel="noopener">Terms of Service</a> and <a href="{% url 'website:privacy' %}" target="_blank" rel="noopener">Privacy Policy</a>.
          </label>
        </div>

        <div class="actions">
          <button id="dneCheckout" class="btn secondary" type="button">Submit Request</button>
        </div>
        <p class="muted" style="margin-top:8px">Questions? Read our <a href="{% url 'website:faq' %}">Frequently Asked Questions</a>.</p>
      </form>
    </div>
  </div>
</section>
{% endblock %}
